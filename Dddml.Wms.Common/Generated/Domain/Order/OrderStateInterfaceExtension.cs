// <autogenerated>
//   This file was generated by T4 code generator GenerateOrderDomain.tt.
//   Any changes made to this file manually will be lost next time the file is regenerated.
// </autogenerated>

using System;
using System.Collections.Generic;
using Dddml.Wms.Specialization;
using Dddml.Wms.Domain;
using Dddml.Wms.Domain.Order;
using Dddml.Wms.Domain.PartyRole;

namespace Dddml.Wms.Domain.Order
{

	public static partial class OrderStateInterfaceExtension
	{

        public static IOrderCommand ToCreateOrMergePatchOrder<TCreateOrder, TMergePatchOrder, TCreateOrderRole, TMergePatchOrderRole, TCreateOrderItem, TMergePatchOrderItem, TCreateOrderShipGroup, TMergePatchOrderShipGroup, TCreateOrderItemShipGroupAssociation, TMergePatchOrderItemShipGroupAssociation>(this IOrderState state)
            where TCreateOrder : ICreateOrder, new()
            where TMergePatchOrder : IMergePatchOrder, new()
            where TCreateOrderRole : ICreateOrderRole, new()
            where TMergePatchOrderRole : IMergePatchOrderRole, new()
            where TCreateOrderItem : ICreateOrderItem, new()
            where TMergePatchOrderItem : IMergePatchOrderItem, new()
            where TCreateOrderShipGroup : ICreateOrderShipGroup, new()
            where TMergePatchOrderShipGroup : IMergePatchOrderShipGroup, new()
            where TCreateOrderItemShipGroupAssociation : ICreateOrderItemShipGroupAssociation, new()
            where TMergePatchOrderItemShipGroupAssociation : IMergePatchOrderItemShipGroupAssociation, new()
        {
            bool bUnsaved = ((IOrderState)state).IsUnsaved;
            if (bUnsaved)
            {
                return state.ToCreateOrder<TCreateOrder, TCreateOrderRole, TCreateOrderItem, TCreateOrderShipGroup, TCreateOrderItemShipGroupAssociation>();
            }
            else 
            {
                return state.ToMergePatchOrder<TMergePatchOrder, TCreateOrderRole, TMergePatchOrderRole, TCreateOrderItem, TMergePatchOrderItem, TCreateOrderShipGroup, TMergePatchOrderShipGroup, TCreateOrderItemShipGroupAssociation, TMergePatchOrderItemShipGroupAssociation>();
            }
        }

        public static TDeleteOrder ToDeleteOrder<TDeleteOrder>(this IOrderState state)
            where TDeleteOrder : IDeleteOrder, new()
        {
            var cmd = new TDeleteOrder();
            cmd.OrderId = state.OrderId;
            cmd.Version = ((IOrderStateProperties)state).Version;

            return cmd;
        }

        public static TMergePatchOrder ToMergePatchOrder<TMergePatchOrder, TCreateOrderRole, TMergePatchOrderRole, TCreateOrderItem, TMergePatchOrderItem, TCreateOrderShipGroup, TMergePatchOrderShipGroup, TCreateOrderItemShipGroupAssociation, TMergePatchOrderItemShipGroupAssociation>(this IOrderState state)
            where TMergePatchOrder : IMergePatchOrder, new()
            where TCreateOrderRole : ICreateOrderRole, new()
            where TMergePatchOrderRole : IMergePatchOrderRole, new()
            where TCreateOrderItem : ICreateOrderItem, new()
            where TMergePatchOrderItem : IMergePatchOrderItem, new()
            where TCreateOrderShipGroup : ICreateOrderShipGroup, new()
            where TMergePatchOrderShipGroup : IMergePatchOrderShipGroup, new()
            where TCreateOrderItemShipGroupAssociation : ICreateOrderItemShipGroupAssociation, new()
            where TMergePatchOrderItemShipGroupAssociation : IMergePatchOrderItemShipGroupAssociation, new()
        {
            var cmd = new TMergePatchOrder();

            cmd.Version = ((IOrderStateProperties)state).Version;

            cmd.OrderId = state.OrderId;
            cmd.OrderTypeId = state.OrderTypeId;
            cmd.OrderName = state.OrderName;
            cmd.ExternalId = state.ExternalId;
            cmd.SalesChannelEnumId = state.SalesChannelEnumId;
            cmd.OrderDate = state.OrderDate;
            cmd.Priority = state.Priority;
            cmd.EntryDate = state.EntryDate;
            cmd.PickSheetPrintedDate = state.PickSheetPrintedDate;
            cmd.StatusId = state.StatusId;
            cmd.CurrencyUom = state.CurrencyUom;
            cmd.SyncStatusId = state.SyncStatusId;
            cmd.BillingAccountId = state.BillingAccountId;
            cmd.OriginFacilityId = state.OriginFacilityId;
            cmd.WebSiteId = state.WebSiteId;
            cmd.ProductStoreId = state.ProductStoreId;
            cmd.TerminalId = state.TerminalId;
            cmd.TransactionId = state.TransactionId;
            cmd.AutoOrderShoppingListId = state.AutoOrderShoppingListId;
            cmd.NeedsInventoryIssuance = state.NeedsInventoryIssuance;
            cmd.IsRushOrder = state.IsRushOrder;
            cmd.InternalCode = state.InternalCode;
            cmd.RemainingSubTotal = state.RemainingSubTotal;
            cmd.GrandTotal = state.GrandTotal;
            cmd.InvoicePerShipment = state.InvoicePerShipment;
            cmd.Active = ((IOrderStateProperties)state).Active;
            
            if (state.OrderTypeId == null) { cmd.IsPropertyOrderTypeIdRemoved = true; }
            if (state.OrderName == null) { cmd.IsPropertyOrderNameRemoved = true; }
            if (state.ExternalId == null) { cmd.IsPropertyExternalIdRemoved = true; }
            if (state.SalesChannelEnumId == null) { cmd.IsPropertySalesChannelEnumIdRemoved = true; }
            if (state.OrderDate == null) { cmd.IsPropertyOrderDateRemoved = true; }
            if (state.Priority == null) { cmd.IsPropertyPriorityRemoved = true; }
            if (state.EntryDate == null) { cmd.IsPropertyEntryDateRemoved = true; }
            if (state.PickSheetPrintedDate == null) { cmd.IsPropertyPickSheetPrintedDateRemoved = true; }
            if (state.StatusId == null) { cmd.IsPropertyStatusIdRemoved = true; }
            if (state.CurrencyUom == null) { cmd.IsPropertyCurrencyUomRemoved = true; }
            if (state.SyncStatusId == null) { cmd.IsPropertySyncStatusIdRemoved = true; }
            if (state.BillingAccountId == null) { cmd.IsPropertyBillingAccountIdRemoved = true; }
            if (state.OriginFacilityId == null) { cmd.IsPropertyOriginFacilityIdRemoved = true; }
            if (state.WebSiteId == null) { cmd.IsPropertyWebSiteIdRemoved = true; }
            if (state.ProductStoreId == null) { cmd.IsPropertyProductStoreIdRemoved = true; }
            if (state.TerminalId == null) { cmd.IsPropertyTerminalIdRemoved = true; }
            if (state.TransactionId == null) { cmd.IsPropertyTransactionIdRemoved = true; }
            if (state.AutoOrderShoppingListId == null) { cmd.IsPropertyAutoOrderShoppingListIdRemoved = true; }
            if (state.NeedsInventoryIssuance == null) { cmd.IsPropertyNeedsInventoryIssuanceRemoved = true; }
            if (state.IsRushOrder == null) { cmd.IsPropertyIsRushOrderRemoved = true; }
            if (state.InternalCode == null) { cmd.IsPropertyInternalCodeRemoved = true; }
            if (state.RemainingSubTotal == null) { cmd.IsPropertyRemainingSubTotalRemoved = true; }
            if (state.GrandTotal == null) { cmd.IsPropertyGrandTotalRemoved = true; }
            if (state.InvoicePerShipment == null) { cmd.IsPropertyInvoicePerShipmentRemoved = true; }
            foreach (var d in state.OrderRoles)
            {
                var c = d.ToCreateOrMergePatchOrderRole<TCreateOrderRole, TMergePatchOrderRole>();
                cmd.OrderRoleCommands.Add(c);
            }
            foreach (var d in state.OrderItems)
            {
                var c = d.ToCreateOrMergePatchOrderItem<TCreateOrderItem, TMergePatchOrderItem>();
                cmd.OrderItemCommands.Add(c);
            }
            foreach (var d in state.OrderShipGroups)
            {
                var c = d.ToCreateOrMergePatchOrderShipGroup<TCreateOrderShipGroup, TMergePatchOrderShipGroup, TCreateOrderItemShipGroupAssociation, TMergePatchOrderItemShipGroupAssociation>();
                cmd.OrderShipGroupCommands.Add(c);
            }
            return cmd;
        }

        public static TCreateOrder ToCreateOrder<TCreateOrder, TCreateOrderRole, TCreateOrderItem, TCreateOrderShipGroup, TCreateOrderItemShipGroupAssociation>(this IOrderState state)
            where TCreateOrder : ICreateOrder, new()
            where TCreateOrderRole : ICreateOrderRole, new()
            where TCreateOrderItem : ICreateOrderItem, new()
            where TCreateOrderShipGroup : ICreateOrderShipGroup, new()
            where TCreateOrderItemShipGroupAssociation : ICreateOrderItemShipGroupAssociation, new()
        {
            var cmd = new TCreateOrder();

            cmd.Version = ((IOrderStateProperties)state).Version;

            cmd.OrderId = state.OrderId;
            cmd.OrderTypeId = state.OrderTypeId;
            cmd.OrderName = state.OrderName;
            cmd.ExternalId = state.ExternalId;
            cmd.SalesChannelEnumId = state.SalesChannelEnumId;
            cmd.OrderDate = state.OrderDate;
            cmd.Priority = state.Priority;
            cmd.EntryDate = state.EntryDate;
            cmd.PickSheetPrintedDate = state.PickSheetPrintedDate;
            cmd.StatusId = state.StatusId;
            cmd.CurrencyUom = state.CurrencyUom;
            cmd.SyncStatusId = state.SyncStatusId;
            cmd.BillingAccountId = state.BillingAccountId;
            cmd.OriginFacilityId = state.OriginFacilityId;
            cmd.WebSiteId = state.WebSiteId;
            cmd.ProductStoreId = state.ProductStoreId;
            cmd.TerminalId = state.TerminalId;
            cmd.TransactionId = state.TransactionId;
            cmd.AutoOrderShoppingListId = state.AutoOrderShoppingListId;
            cmd.NeedsInventoryIssuance = state.NeedsInventoryIssuance;
            cmd.IsRushOrder = state.IsRushOrder;
            cmd.InternalCode = state.InternalCode;
            cmd.RemainingSubTotal = state.RemainingSubTotal;
            cmd.GrandTotal = state.GrandTotal;
            cmd.InvoicePerShipment = state.InvoicePerShipment;
            cmd.Active = ((IOrderStateProperties)state).Active;
            foreach (var d in state.OrderRoles)
            {
                var c = d.ToCreateOrderRole<TCreateOrderRole>();
                cmd.OrderRoles.Add(c);
            }
            foreach (var d in state.OrderItems)
            {
                var c = d.ToCreateOrderItem<TCreateOrderItem>();
                cmd.OrderItems.Add(c);
            }
            foreach (var d in state.OrderShipGroups)
            {
                var c = d.ToCreateOrderShipGroup<TCreateOrderShipGroup, TCreateOrderItemShipGroupAssociation>();
                cmd.OrderShipGroups.Add(c);
            }
            return cmd;
        }
		

	}

}

